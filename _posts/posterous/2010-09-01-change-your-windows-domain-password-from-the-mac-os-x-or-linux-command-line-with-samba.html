--- 
layout: post
title: Change your Windows domain password from the Mac OS X or Linux command line with Samba
published: true
---
<p>You're working at a medium-to-large company, but you're "sticking it" to "the man" by using OS X or Linux on your primary machine. What to do when your password expires (ugh) and you're locked out of everything? Horning in on your office neighbor's Windows box would be inconvenient and, let's face it, humiliating. Luckily, Samba gives us a way to reset your password from the comfort of the UNIX shell.</p>
<p>Simply ask samba to lookup the address of your domain's master controller (replace <em>windowsdomain</em>&nbsp;with the actual name of your login domain):</p>
<p><tt>yourbox you$&nbsp;<strong>net lookup master </strong><em><strong>windowsdomain</strong><br /></em>10.0.1.5&nbsp;</tt></p>
<p>Armed with this address, use smbpasswd to remotely change your password on the domain controller (replace <em>username</em>&nbsp;with your actual windows username):</p>
<p><tt>yourbox you$ <strong>smbpasswd -r 10.0.1.5 -U <em>username<br /></em></strong>Old SMB password: <strong>********</strong><br />New SMB password:&nbsp;<strong>*********</strong><br />Retype new SMB password:&nbsp;<strong>*********</strong><br />Password changed for user username</tt></p>
<p>Voila! Now you can log on to Outlook Web Access! Wait...why did you want to do this again?</p>
