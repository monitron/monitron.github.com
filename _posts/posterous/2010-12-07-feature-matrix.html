--- 
layout: post
title: Feature Matrix
published: true
---
<p>My current "day job" project is starting to develop into a tangle of densely connected features with lots of interactions, both obvious and unexpected. Our application has become nontrivial, growing a list of fifty or so features that I can identify. If any one of these features is changed (or, heaven forfend, a new one is added), chances are that six or seven others will need to be adapted for everything to continue working smoothly. I sweat this kind of thing; it slows development, it's hard to test for and it generates some of the trickiest bugs. And keeping things orthogonal* becomes more and more difficult as the requirements inevitably grow. This is compounded by the very human problem of forgetting about features you haven't touched in a while.</p>
<p>The following happens to us on an almost daily basis: a new feature is added; code is written, tested and committed. Hours, days or weeks later, a wild bug report appears: "when opening a grouped saved report having the third sort field direction as descending, adding a filter and then exporting a PDF, all hell breaks loose." Developer response is either "oh, duh, why didn't I think of that interaction?" or a look of uncomprehending despair. Either way, we always wish we'd caught the connection when writing the feature the first time around.</p>
<p>I got to wondering: How is it possible to catch these interactions as early as possible? Better testing is an obvious answer, but I'm talking about <em>really</em>&nbsp;early, like before I write a line of code. I'd probably write better code faster if I knew exactly what I was doing before I started.</p>
<p>The simplest answer I can think of is to keep a list of each identifiable feature in your project. This list can be expanded into a matrix with all the features in both axes. When this is done, you can go through each cell and fill in an "X" at the intersections where features interact. Then, when modifying a feature, identifying interactions is a simple matter of looking at the matrix. Adding a new feature to the matrix is even better: it forces the exercise of thinking about whether it might interact with each existing feature!</p>
<p>Here's a silly example. Note that redundant cells have been filled with a dash for single-source-of-truth reasons. Unnecessary rows and columns have been omitted for clarity. Conditional formatting has been applied.</p>
<p><img title="Hosted by imgur.com" src="http://i.imgur.com/StviZ.png" alt="" /></p>
<p>I really like this. It has a few notable drawbacks that I can think of:</p>
<ol>
<li>It could get really cumbersome as the feature list gets longer; too many rows and columns make one's eyes glaze over.</li>
<li>In most cases you have to look through both a row and a column to identify all interactions for a single feature.</li>
<li>There's no way to represent interactions between three or more features.</li>
</ol>
<p>All of these drawbacks could be mitigated by (what else?) creating a web app to manage feature interactions. I'd love to write it, if it hasn't been done already and I'm not the only one who thinks the idea is worthwhile.</p>
<p><span style="font-size: x-small;">* I apologize to any mathematicians for my abuse of the word "orthogonal." Feel free to suggest a better word if you have one. :)</span></p>
<p>&nbsp;</p>
